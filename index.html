<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DOMY ISP · Demo Alta Fidelidad</title>
  <style>
    :root { --brand-primary:#3B82F6; --brand-contrast:#0B1220; --surface:#FFFFFF; --surface-dark:#0B1220; --text:#111827; --muted:#6B7280; --border:#E5E7EB; --success:#10B981; --warning:#F59E0B; --danger:#EF4444; --info:#06B6D4; --success-bg: rgba(16,185,129,.1); --warning-bg:rgba(245,158,11,.1); --danger-bg: rgba(239,68,68,.1); --info-bg:rgba(6,182,212,.1); --radius:12px; --shadow:0 8px 24px rgba(2,6,23,.08); --focus: 0 0 0 3px rgba(59,130,246,.35);} .theme-dark { --surface:#0B1220; --text:#E5E7EB; --muted:#9CA3AF; --border:#334155; } .theme-contrast { --focus: 0 0 0 3px #000; }
    *{box-sizing:border-box} html,body{height:100%} body{margin:0;background:var(--surface);color:var(--text);font-family:Inter, "DM Sans", system-ui, -apple-system, Segoe UI, Roboto, Arial;}
    .topbar{position:sticky;top:0;z-index:10;background:var(--surface);border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;padding:10px 16px} .brand{font-weight:800;letter-spacing:.2px}
    .app{display:grid;grid-template-columns:260px 1fr;min-height:calc(100vh - 52px)} .sidebar{border-right:1px solid var(--border);padding:16px}
    .nav a{display:flex;gap:10px;padding:8px 10px;border-radius:10px;color:inherit;text-decoration:none} .nav a:hover,.nav a[aria-current="page"]{background:#f1f5f9}
    .content{padding:16px}
    .btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:10px 16px;border-radius:10px;border:1px solid transparent;cursor:pointer;font-weight:600;transition:transform .08s ease,filter .12s ease,background .2s ease} .btn:hover{filter:brightness(.95);transform:scale(1.02)} .btn:active{transform:scale(.98)} .btn:focus-visible{outline:none;box-shadow:var(--focus)} .btn-primary{background:var(--brand-primary);color:#fff} .btn-secondary{background:#e5ecff;color:#0b1220;border-color:var(--border)} .btn-danger{background:var(--danger);color:#fff} .btn-ghost{background:transparent;border-color:var(--border);color:inherit} .btn-sm{padding:6px 10px;font-size:12px;border-radius:8px}
    @keyframes spin{to{transform:rotate(360deg)}} .btn.is-loading{position:relative;color:transparent!important;pointer-events:none} .btn.is-loading::after{content:"";position:absolute;width:16px;height:16px;border-radius:50%;border:2px solid rgba(255,255,255,.8);border-top-color:transparent;animation:spin 1s linear infinite}
    .badge{display:inline-block;padding:4px 10px;border-radius:999px;font-size:12px;font-weight:700} .badge-success{background:var(--success-bg);color:#065F46} .badge-warning{background:var(--warning-bg);color:#92400E} .badge-info{background:var(--info-bg);color:#155E75} .badge-danger{background:var(--danger-bg);color:#991B1B}
    .card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:20px;box-shadow:var(--shadow)} .card-interactive{transition:transform .2s ease, box-shadow .2s ease;cursor:pointer} .card-interactive:hover{transform:translateY(-4px);box-shadow:0 12px 30px rgba(2,6,23,.12)}
    table{width:100%;border-collapse:collapse;background:var(--surface);border-radius:12px;overflow:hidden} thead th{text-align:left;padding:12px;background:#f8fafc;color:#0f172a;border-bottom:1px solid var(--border);font-size:14px} tbody td{padding:12px;border-bottom:1px solid var(--border);font-size:14px}
    .form-group{margin-bottom:12px} .form-label{display:block;font-weight:600;margin-bottom:6px} .form-input,.form-select,.form-textarea{width:100%;padding:10px 12px;border:1px solid var(--border);border-radius:10px;background:#fff} .form-input:focus,.form-select:focus,.form-textarea:focus{outline:none;box-shadow:var(--focus);border-color:var(--brand-primary)} .form-textarea{min-height:120px} .error-message{margin-top:6px;font-size:12px;color:#991B1B}
    @keyframes slide-down{from{opacity:0;transform:translate(-50%,-10px)}to{opacity:1;transform:translate(-50%,0)}} @keyframes fade-out{to{opacity:0}} .toast{position:fixed;top:20px;left:50%;transform:translateX(-50%);z-index:1000;padding:12px 16px;border:1px solid var(--border);border-radius:10px;box-shadow:var(--shadow);background:var(--surface);animation:slide-down 180ms ease-out} .toast[aria-live]{min-width:280px} .toast.success{background:var(--success-bg)} .toast.error{background:var(--danger-bg)} .toast .actions{margin-left:12px}
    .banner{display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:10px;border:1px solid var(--border);margin:8px 0} .banner.blocking{background:var(--warning-bg)}
    @keyframes loading{0%{background-position:200% 0}100%{background-position:-200% 0}} .skeleton{background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0 50%,#f0f0f0 75%);background-size:200% 100%;animation:loading 1.2s infinite;border-radius:10px} .skeleton-line{height:12px;margin:8px 0}
    .empty{border:1px dashed var(--border);border-radius:12px;padding:24px;text-align:center;color:var(--muted)} .hidden{display:none} .w-100{width:100%} .mt-2{margin-top:8px} .mt-3{margin-top:12px} .mt-4{margin-top:16px} .mt-6{margin-top:24px}
  </style>
<body class="theme-light">
  <header class="topbar" role="banner">
    <div class="left"><span class="brand">DOMY ISP</span></div>
    <div class="right" style="display:flex;gap:8px;align-items:center">
      <span id="role-chip" class="badge badge-info" aria-live="polite">Invitado</span>
      <button id="btn-lang" class="btn btn-ghost btn-sm" aria-label="Cambiar idioma">ES</button>
      <button id="btn-theme" class="btn btn-ghost btn-sm" aria-label="Cambiar tema">☾</button>
      <span id="net-banner" class="badge badge-warning hidden">Offline</span>
      <button id="btn-sync" class="btn btn-secondary btn-sm hidden">Pendientes: <span id="sync-count">0</span></button>
      <button class="btn btn-danger btn-sm" id="btn-logout">Salir</button>
    </div>
  </header>
  <div class="app">
    <aside class="sidebar" aria-label="Navegación">
      <nav class="nav" id="nav-links">
        <div class="muted mt-2" style="font-size:12px">General</div>
        <a href="#" data-link="login" data-roles="*">Selector de rol</a>
        <div class="muted mt-2" style="font-size:12px">Admin</div>
        <a href="#" data-link="admin-dashboard" data-roles="dueño,admin">Dashboard</a>
        <a href="#" data-link="admin-clientes" data-roles="dueño,admin,cobranza">Clientes</a>
        <a href="#" data-link="admin-billing" data-roles="dueño,admin">Facturación</a>
        <a href="#" data-link="admin-reports" data-roles="dueño,admin">Reportes</a>
        <div class="muted mt-2" style="font-size:12px">Operación</div>
        <a href="#" data-link="jefe-tickets" data-roles="jefe-tecnico">Bandeja/Kanban</a>
        <a href="#" data-link="tech-tickets" data-roles="tecnico">Mis tickets</a>
        <div class="muted mt-2" style="font-size:12px">Cliente</div>
        <a href="#" data-link="client-home" data-roles="cliente">Inicio</a>
      </nav>
    </aside>
    <main class="content">
